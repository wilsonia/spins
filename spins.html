<!DOCTYPE html>
<!--
	Spins Laboratory web app, copyright 2016, Daniel V. Schroeder

	Permission is hereby granted, free of charge, to any person obtaining a copy of
	this software and associated data and documentation (the "Software"), to deal in
	the Software without restriction, including without limitation the rights to
	use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
	of the Software, and to permit persons to whom the Software is furnished to do
	so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
	INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
	PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
	ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
	OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
	OTHER DEALINGS IN THE SOFTWARE.

	Except as contained in this notice, the name of the author shall not be used in
	advertising or otherwise to promote the sale, use or other dealings in this
	Software without prior written authorization.

	Revision history:
	Original text-based version (running on a VAX computer) by Thomas A. Moore, 1982
	First GUI version, for Mac Classic (written in Turbo Pascal), by Daniel V. Schroeder, 1988
	Ported to Think Pascal by Michael Martin, 1992
	Article by Schroeder and Moore: "A computer-simulated Stern-Gerlach laboratory," Am. J. Phys.
		61(9), 798-805 (1993), http://dx.doi.org/10.1119/1.17172, http://arxiv.org/abs/1502.07036
	Ported to Java by David McIntyre and Lichun Jia, 2000
	Enhanced Java version by Wolfgang Christian and Mario Belloni, 2006
	REALbasic/Xojo version by Thomas A. Moore, 2005-2007
	This HTML5/JavaScript version by Daniel V. Schroeder, 2016
		First limited working version, 11 February
		Code for magnets added 6 April
		Rotated analyzers and simplest-case interference added 21 October
		New logic for arbitrary interference experiments, 27 October

	Known bugs:
	Theta slider sometimes doesn't appear on Chrome for Android, and label spacing is off.
	Seems to work fine in Safari on iPhone 4.  Need to test more touch-screen devices.

	Possible further improvements:
	Replace the new component menu with a pictorial version.
	Could add a presets menu to quickly set up various experiments.
-->
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title>Spins</title>
	<style>
	.menuitem {
		font-size:20px;
		font-family:sans-serif;
		color:black;
		background:white;
		padding:6px;
		cursor:pointer;
		-webkit-user-select: none;
		-moz-user-select: -moz-none;
		-ms-user-select: none;
		user-select:none;
	}
	.menuitem:active, .menuitem:hover {
		background:#bbb;
	}
	.omenuitem {	/* for orientation menu */
		font-size:30px;
		font-family:sans-serif;
		color:black;
		background:white;
		padding:0px 10px;
		cursor:pointer;
		-webkit-user-select: none;
		-moz-user-select: -moz-none;
		-ms-user-select: none;
		user-select:none;
	}
	.omenuitem:active, .omenuitem:hover {
		background:#bbb;
	}
	input[type=range] {
		width:200px;
		height:20px;
		padding:0px;
		-webkit-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}
	input[type="range"]::-ms-tooltip {
		display: none;          /* hide automatic readout in IE */
	}
	input[type="range"]::-ms-track {
		border: none;
		color: transparent;     /* hide tick marks in IE */
	}
	input[type="range"]::-ms-fill-lower {
		background: #808080;
	}
	input[type="range"]::-ms-fill-upper {
		background: #e8e8e8;
	}
	input[type="range"]::-ms-thumb {
		border: none;
	}
	sup {position:relative; vertical-align:bottom; bottom:0.4em; font-size:0.75em;}
	</style>
</head>

<body style="background-color:#e0e0e0; font-family:sans-serif; font-size:16px; line-height:20px;">

<div style="width:760px; margin-left:auto; margin-right:auto;">

	<h1 style="font-size:18pt; text-align:center; margin-bottom:10px;">Spins Laboratory</h1>

	<div id="canvasDiv" style="position:relative;">

		<canvas id="theCanvas" width="760" height="420" style="position:relative; background-color:white;">Canvas not supported! Please update your browser.</canvas>

		<div id="newComponentMenu" style="display:none; position:absolute; left:0px; top:0px; width:100px;
					background-color:white; border:1px solid black; font-family:sans-serif; font-size:24px;">
			<div class="menuitem" onclick="addComponent(1)" ontouchstart="">Analyzer</div>
			<div class="menuitem" onclick="addComponent(2)" ontouchstart="">Magnet</div>
			<div class="menuitem" onclick="addComponent(3)" ontouchstart="">Counter</div>
		</div>

		<div id="orientationMenu" style="display:none; position:absolute;
					background-color:white; border:1px solid black; font-size:30px; font-family:sans-serif; line-height:35px;">
			<span class="omenuitem" onclick="setOrientation(0)" ontouchstart="">X</span><span class="omenuitem" onclick="setOrientation(1)" ontouchstart="">Y</span><span class="omenuitem" onclick="setOrientation(2)" ontouchstart="">Z</span><span class="omenuitem" onclick="showThetaSlider()" ontouchstart="">θ</span>
		</div>

		<div id="magnetOrientationMenu" style="display:none; position:absolute;
					background-color:white; border:1px solid black; font-size:30px; font-family:sans-serif; line-height:35px;">
			<span class="omenuitem" onclick="setOrientation(0)" ontouchstart="">X</span><span class="omenuitem" onclick="setOrientation(1)" ontouchstart="">Y</span><span class="omenuitem" onclick="setOrientation(2)" ontouchstart="">Z</span>
		</div>

		<div id="thetaSliderBox" style="display:none; position:absolute; width:210px;
					background-color:white; border:1px solid black; text-align:center;">
			<input id="thetaSlider" type="range" min="0" max="360" step="5" oninput="setTheta()" onchange="setTheta()" value="180">
			<div style="position:relative; margin-top:-10px;">
			<span style="position:absolute; left:5px;">+z</span><span style="position:absolute; left:50px;">+x</span><span style="position:absolute; right:5px;">+z</span><span style="position:absolute; right:50px;">−x</span>−z
			</div>
		</div>

		<div id="durationSliderBox" style="display:none; position:absolute; left:0px; top:0px; width:210px;
					background-color:white; border:1px solid black; text-align:center;">
			<input id="dSlider" type="range" min="0" max="99" oninput="setDuration()" onchange="setDuration()" value="50">
		</div>

	</div>

	<p>This software is unfinished and is posted at this time for testing purposes.  It has one serious
	known bug (really a physics error), often producing nonsensical results when paths from different
	components are combined and the “coherent” box is checked.  It may also contain
	unknown bugs.  Use it at your own risk.</p>

	<p>Use this virtual laboratory to build and run experiments to manipulate and measure the spins
	of quantum particles.  The particle gun at left sends particles, one at a time, into experimental
	components that can include <b>analyzers</b> that
	direct the particles according to their spins, <b>magnets</b> that rotate the spins, and <b>counters</b> that
	record the arrival of particles.  Initially you see a single analyzer with one counter connected
	to each of its output paths.</p>

	<p><b>Instructions:</b>  Click or tap on a component’s output location (at its right side)
	to delete any existing connection and/or create a new one.  Drag from there to the component you
	want to connect it to, or to an empty location to create a new component at that spot.  If you
	send more than one path into the same analyzer then a checkbox will appear, allowing you to choose
	coherent or decoherent superpositions.  To delete a component just drag it beyond the edge of the
	white area.  To change the orientation of an analyzer or magnet,
	click/tap on the big letter and then select a choice from the menu that appears below.
	To change the strength/duration of a magnet, click on the number and adjust the slider.
	The buttons at the top of the particle gun send just
	one particle through, or 10,000 of them.  The settings at the bottom determine the initial state
	of the emitted particles:  R for random and 1,2,3,4 for four specific initial states that are
	for you to determine.</p>

	<p><a href="javascript:void(0)" onclick="changeDim();" ontouchstart="">Click here to switch</a>
	between two-state (spin-1/2) particles and three-state (spin-1) particles.</p>

	<p>For detailed explanations and suggested exercises, see:</p>
	<ul>
	<li>Daniel V. Schroeder and
     <a href="http://pages.pomona.edu/~tmoore/">
     Thomas A. Moore</a>, “A computer-simulated
     Stern-Gerlach laboratory,” <a href="http://dx.doi.org/10.1119/1.17172">
     American Journal of Physics</a> <b>61</b> (9), 798–805 (1993),
     <a href="http://arxiv.org/abs/1502.07036">arXiv:1502.07036 [physics.ed-ph]</a>.</li>
	<li><a href="http://pages.pomona.edu/~tmoore/">
     Thomas A. Moore</a>, <a href="http://www.physics.pomona.edu/sixideas/"><i>Six Ideas That Shaped Physics</i></a>,
	third edition (McGraw-Hill, New York, 2017), chapters Q6 and Q7.</li>
	<li><a href="http://physics.oregonstate.edu/~mcintyre/">David H. McIntyre</a>,
	<a href="http://physics.oregonstate.edu/portfolioswiki/doku.php?id=texts:quantumbook:start"><i>Quantum Mechanics: A Paradigms Approach</i></a>
	(Pearson, Boston, 2012), chapters 1–3.</li>
	</ul>

	<hr>

	<p><a href="http://physics.weber.edu/schroeder/">Daniel V. Schroeder</a>,
	<a href="http://physics.weber.edu/">Physics Department</a>,
	<a href="http://weber.edu/">Weber State University</a></p>

</div>

<script type="module" src="dist/bundle.js"></script>

</body></html>
